1.

CREATE SCHEMA pandemic;
USE pandemic;
SELECT * FROM infectious_cases;

2.

CREATE TABLE countries (
    country_id INT AUTO_INCREMENT PRIMARY KEY,
    entity VARCHAR(255) NOT NULL,
    code VARCHAR(10) NULL
);

INSERT INTO countries (entity, code)
SELECT DISTINCT Entity, Code
FROM infectious_cases;



ALTER TABLE infectious_cases
ADD COLUMN Country_id INT;

SET SQL_SAFE_UPDATES = 0;

UPDATE infectious_cases
JOIN countries ON infectious_cases.Entity = countries.entity
SET infectious_cases.Country_id = countries.country_id;

SET SQL_SAFE_UPDATES = 1;

ALTER TABLE infectious_cases
DROP COLUMN Entity,
DROP COLUMN Code,
MODIFY COLUMN Country_id INT FIRST;

ALTER TABLE infectious_cases
ADD CONSTRAINT fk_country
FOREIGN KEY (Country_id) REFERENCES countries(country_id)
ON DELETE CASCADE
ON UPDATE CASCADE;

3.

